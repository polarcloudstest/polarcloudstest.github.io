<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="prefer-datetime-locale" content="en-gb"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="UPS Triggered Shut Down of ESXi from Raspberry Pi - Part 1" /><meta property="og:locale" content="en" /><meta name="description" content="Hardware, Requirement, Software, Solution" /><meta property="og:description" content="Hardware, Requirement, Software, Solution" /><link rel="canonical" href="/posts/esxi-rpi-ups-pt1/" /><meta property="og:url" content="/posts/esxi-rpi-ups-pt1/" /><meta property="og:site_name" content="PolarClouds" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-04-21T01:00:00+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="UPS Triggered Shut Down of ESXi from Raspberry Pi - Part 1" /><meta name="twitter:site" content="@chall32" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-08-08T16:57:08+01:00","datePublished":"2021-04-21T01:00:00+01:00","description":"Hardware, Requirement, Software, Solution","headline":"UPS Triggered Shut Down of ESXi from Raspberry Pi - Part 1","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/esxi-rpi-ups-pt1/"},"url":"/posts/esxi-rpi-ups-pt1/"}</script><title>UPS Triggered Shut Down of ESXi from Raspberry Pi - Part 1 | PolarClouds</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="PolarClouds"><meta name="application-name" content="PolarClouds"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="https://polarclouds.co.uk/images/pages/ch200x200.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">PolarClouds</a></div><div class="site-subtitle font-italic">The personal blog of me, Chris Hall</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/chall32" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/chall32" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['example','domain.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>UPS Triggered Shut Down of ESXi from Raspberry Pi - Part 1</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>UPS Triggered Shut Down of ESXi from Raspberry Pi - Part 1</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1618963200" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Apr 21, 2021 </em> </span> <span> Updated <em class="" data-ts="1659974228" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Aug 8, 2022 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://twitter.com/chall32">Chris Hall</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="954 words"> <em>5 min</em> read</span></div></div></div><div class="post-content"><p><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'%3E%3C/svg%3E" data-src="/images/esxi-rpi-ups-pt1/esxi-rpi-ups-pt1-00.png" alt="APC UPS Triggered shut down of ESXi from Raspberry Pi" width="200" height="200" style="max-width: 200px" class="right" data-proofer-ignore> By the shear luck of being in the right place at the right time, I managed to get my hands on an APC Smart-UPS C1500 Uninterruptable Power Supply (UPS) for my home lab use.</p><p>A UPS is a piece of hardware that will provide emergency power from batteries should the incoming mains electricity supply fail. Nice!</p><p>However, depending upon the state of the UPS battery when the mains power fails and the power requirements of the infrastructure being supplied by the UPS, on battery runtimes can be variable.</p><p>Because of this on battery runtime variability, it is necessary to have the UPS monitor its battery capacity and signal when the batteries reach a low level, assuming that the mains electricity supply has not returned yet. This signal can then be used to trigger an automated clean, controlled automated shut down of the protected infrastructure.</p><p>Over the posts in this series I’ll put together a solution to monitor the UPS as well as handle UPS low battery level signalling and the clean automated shut down my infrastructure prior to the UPS batteries running out.</p><p>This post is part 1 of a multipart series. Find the other parts here:</p><ul><li>Part 1: This part - Hardware, Requirement, Software, Solution<br /><li>Part 2: <a href="/posts/esxi-rpi-ups-pt2/" target="_blank">Hardware Connectivity and Software Installation</a>)<li>Part 3: <a href="/posts/esxi-rpi-ups-pt3/" target="_blank">Scripting for the win… or should that be for the failure?</a>)</ul><h2 id="hardware"><span class="mr-2">Hardware</span><a href="#hardware" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Lets look at list of hardware that I wish to run from the <a href="https://www.apc.com/shop/uk/en/products/APC-Smart-UPS-C-1500VA-LCD-230V/P-SMC1500I">APC Smart-UPS C1500</a> UPS:</p><ul><li>One fibre broadband modem<li>One router<li>One 24 port network switch<li>One Raspberry pi 4<li>One Dell R710 ESXi server</ul><p>Of the above, the “thirstiest” device will be the Dell R710 ESXi server, typically pulling 150 Watts on average. Therefore this needs to be the device that is shut down first. Also, of all the infrastructure being protected by the UPS, it is the data in VMs run on the ESXi server that I wish to protect the most. There is also a small amount of data on the Raspberry Pi that I would also like to protect.</p><p>The other devices (modem, router, switch) hold no data and are happy to be powered off without the need to be shut down first.</p><h2 id="requirement"><span class="mr-2">Requirement</span><a href="#requirement" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Unfortunately, ESXi’s mission is to be a hypervisor not a UPS monitor; there is no such capability available within ESXi. Therefore UPS monitoring needs to be handled elsewhere.</p><p>Handling this on a VM run on the ESXi host is tricky as the VM will need to signal to the host to shut down but for the host to shut down all VMs need to be shut down first. Hmmm chicken, egg, egg, chicken. Let’s give the job to the Raspberry Pi. :thumbsup:</p><h2 id="solution"><span class="mr-2">Solution</span><a href="#solution" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Pulling this together then:</p><p><img data-src="/images/esxi-rpi-ups-pt1/esxi-rpi-ups-pt1-01.png" alt="The Solution" data-proofer-ignore></p><ol><li>Mains electricity fails… power cut!<li>The UPS signals to the Raspberry Pi that there is a power cut<li>The UPS signals its battery charge state to the Raspberry Pi<li>The UPS battery charge falls below a predetermined threshold and signals this to the Raspberry Pi<li>The Raspberry Pi runs a script to shut down all powered on VMs<li>The Raspberry Pi runs a script to shut down the ESXi host<li>The Raspberry Pi runs a script to shut itself down<li>The UPS stops supplying power from battery and shuts down which also shuts down the modem, router and network switch</ol><h2 id="software"><span class="mr-2">Software</span><a href="#software" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>To achieve the above, we will need some software to help make this happen:</p><ul><li>APC UPS Daemon (apcupsd)<li>PowerShell Core<li>VMware PowerCLI<li>(Optional) Telegram</ul><p>Not included above, but taken as a given are the operating systems running on the hardware:</p><ul><li>Raspberry Pi: Ubuntu 20.04 LTS (Raspbian would work too)<li>Dell R710: VMware ESXi 6.7 (or later)</ul><p>Let’s take a closer look at the other software.</p><h3 id="apc-ups-daemon-apcupsd"><span class="mr-2">APC UPS Daemon (apcupsd)</span><a href="#apc-ups-daemon-apcupsd" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="http://www.apcupsd.org/">APC UPS Daemon</a> is a program for monitoring UPSes. It runs on Linux, Mac OS/X, Win32, BSD, Solaris, and other OSes. It is open source and available in most Linux distribution software repositories.</p><p>In our solution we will be running APC UPS Daemon on the Raspberry Pi.</p><h3 id="powershell-core"><span class="mr-2">PowerShell Core</span><a href="#powershell-core" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Yep, that’s correct, <a href="https://github.com/PowerShell/PowerShell#readme">PowerShell Core</a> runs on Linux too! In our solution we will be running PowerShell Core on the Raspberry Pi.</p><p>Question: <em>Why not use a “built in” Linux scripting solution such as BASH or Perl etc?</em><br /></p><p>Yep, whilst VMware release an <a href="https://code.vmware.com/web/sdk/7.0/vsphere-perl">SDK for Perl</a>, I’m personally not as familiar with it as I am with PowerShell. PowerShell Core is available for Linux, so why not just use that instead? Also, having PowerShell script cross operating system portability might be an important consideration in the future too.</p><h3 id="vmware-powercli"><span class="mr-2">VMware PowerCLI</span><a href="#vmware-powercli" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="https://developer.vmware.com/powercli">VMware PowerCLI</a> is a PowerShell based command line and scripting interface for managing VMware vSphere.</p><p>In our solution we will be running PowerCLI on the Raspberry Pi.</p><h3 id="optional-telegram"><span class="mr-2">(Optional) Telegram</span><a href="#optional-telegram" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="https://telegram.org/">Telegram</a> is a cloud based messaging solution. In this solution we will be sending Telegram messages from PowerShell for alerting and status updates.</p><p>For further details on sending of Telegram messages from PowerShell, take a look at <a href="https://polarclouds.co.uk/send-telegram-from-powershell/">Send Telegram Messages from PowerShell</a> it’s a great read! :wink:</p><p>In our solution we will be sending Telegram messages from the Raspberry Pi.</p><h2 id="conclusion-and-wrap-up"><span class="mr-2">Conclusion and Wrap Up</span><a href="#conclusion-and-wrap-up" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>That’ll do it for part one.</p><p>In this post we gathered our requirements, put a solution together to meet those requirements and took a look at our hardware and our software. Next time we’ll look at installing the required software and getting everything to work nicely together.</p><p>This post is part 1 of a multipart series.</p><p>Find the other parts here:</p><ul><li>Part 1: This part - Hardware, Requirement, Software, Solution<li>Part 2: <a href="/posts/esxi-rpi-ups-pt2/" target="_blank">Hardware Connectivity and Software Installation</a>)<li>Part 3: <a href="/posts/esxi-rpi-ups-pt3/" target="_blank">Scripting for the win… or should that be for the failure?</a>)</ul><p>Look out for future parts coming soon!</p><p>-Chris</p></div><div class="post-tail-wrapper text-muted"><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/pro-tip/" class="post-tag no-text-decoration" >Pro-Tip</a> <a href="/tags/vmware/" class="post-tag no-text-decoration" >VMware</a> <a href="/tags/deployment/" class="post-tag no-text-decoration" >Deployment</a> <a href="/tags/esxi/" class="post-tag no-text-decoration" >ESXi</a> <a href="/tags/linux/" class="post-tag no-text-decoration" >Linux</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=UPS+Triggered+Shut+Down+of+ESXi+from+Raspberry+Pi+-+Part+1+-+PolarClouds&url=%2Fposts%2Fesxi-rpi-ups-pt1%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=UPS+Triggered+Shut+Down+of+ESXi+from+Raspberry+Pi+-+Part+1+-+PolarClouds&u=%2Fposts%2Fesxi-rpi-ups-pt1%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=%2Fposts%2Fesxi-rpi-ups-pt1%2F&text=UPS+Triggered+Shut+Down+of+ESXi+from+Raspberry+Pi+-+Part+1+-+PolarClouds" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=%2Fposts%2Fesxi-rpi-ups-pt1%2F" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <a href="https://reddit.com/submit?url=%2Fposts%2Fesxi-rpi-ups-pt1%2F&title=UPS+Triggered+Shut+Down+of+ESXi+from+Raspberry+Pi+-+Part+1+-+PolarClouds" data-toggle="tooltip" data-placement="top" title="Reddit" target="_blank" rel="noopener" aria-label="Reddit"> <i class="fa-fw fab fa-reddit"></i> </a> <a href="http://service.weibo.com/share/share.php?title=UPS+Triggered+Shut+Down+of+ESXi+from+Raspberry+Pi+-+Part+1+-+PolarClouds&url=%2Fposts%2Fesxi-rpi-ups-pt1%2F" data-toggle="tooltip" data-placement="top" title="Weibo" target="_blank" rel="noopener" aria-label="Weibo"> <i class="fa-fw fab fa-weibo"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/vsphere-compliance-with-vro-pt2/">vSphere Compliance with vRealize Operations and Tagging - Part 2</a><li><a href="/posts/powershell-credential-handling/">PowerShell Credential Handling</a><li><a href="/posts/esxi-rpi-ups-pt1/">UPS Triggered Shut Down of ESXi from Raspberry Pi - Part 1</a><li><a href="/posts/esxi-rpi-ups-pt2/">UPS Triggered Shut Down of ESXi from Raspberry Pi - Part 2</a><li><a href="/posts/esxi-rpi-ups-pt3/">UPS Triggered Shut Down of ESXi from Raspberry Pi - Part 3</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/pro-tip/">Pro-Tip</a> <a class="post-tag" href="/tags/deployment/">Deployment</a> <a class="post-tag" href="/tags/esxi/">ESXi</a> <a class="post-tag" href="/tags/vmware/">VMware</a> <a class="post-tag" href="/tags/linux/">Linux</a> <a class="post-tag" href="/tags/vrealize/">vRealize</a> <a class="post-tag" href="/tags/powershell/">PowerShell</a> <a class="post-tag" href="/tags/rubrik/">Rubrik</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/esxi-rpi-ups-pt2/"><div class="card-body"> <em class="small" data-ts="1620086400" data-df="ll" > May 4, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>UPS Triggered Shut Down of ESXi from Raspberry Pi - Part 2</h3><div class="text-muted small"><p> Last time we looked at what needs to happen should we loose the input mains electricity supply to our newly acquired Uninterruptable Power Supply (UPS). For example during a power cut. We also go...</p></div></div></a></div><div class="card"> <a href="/posts/esxi-rpi-ups-pt3/"><div class="card-body"> <em class="small" data-ts="1658534400" data-df="ll" > Jul 23, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>UPS Triggered Shut Down of ESXi from Raspberry Pi - Part 3</h3><div class="text-muted small"><p> Sorry about the tardiness of this post. I had it written, lost it and then found it again… Last time year we looked at our Uninterruptible Power Supply (UPS) hardware setup and the installation...</p></div></div></a></div><div class="card"> <a href="/posts/vsphere-compliance-with-vro/"><div class="card-body"> <em class="small" data-ts="1656374400" data-df="ll" > Jun 28, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>vSphere Compliance with vRealize Operations and Tagging</h3><div class="text-muted small"><p> In these days of anywhere computing, one of the tools in the arsenal of the good guys is system hardening. But what is system hardening? System hardening is defined as the practice of reducing a ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"><div class="btn btn-outline-primary disabled" prompt="Older"><p>-</p></div><a href="/posts/esxi-rpi-ups-pt2/" class="btn btn-outline-primary" prompt="Newer"><p>UPS Triggered Shut Down of ESXi from Raspberry Pi - Part 2</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://twitter.com/chall32">Chris Hall</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/pro-tip/">Pro-Tip</a> <a class="post-tag" href="/tags/deployment/">Deployment</a> <a class="post-tag" href="/tags/esxi/">ESXi</a> <a class="post-tag" href="/tags/vmware/">VMware</a> <a class="post-tag" href="/tags/linux/">Linux</a> <a class="post-tag" href="/tags/vrealize/">vRealize</a> <a class="post-tag" href="/tags/powershell/">PowerShell</a> <a class="post-tag" href="/tags/rubrik/">Rubrik</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en-gb.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
